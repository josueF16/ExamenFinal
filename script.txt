-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
BEGIN;


CREATE TABLE IF NOT EXISTS public."Aviones"
(
    "IdAviones" integer NOT NULL,
    "Modelo" character varying,
    "Peso" numeric,
    "Capacidad" integer,
    "IdHangar" integer,
    PRIMARY KEY ("IdAviones")
);

CREATE TABLE IF NOT EXISTS public."Hangar"
(
    "Numero_Hangar" integer NOT NULL,
    "Capacidad" integer,
    "Localizacion" character varying,
    PRIMARY KEY ("Numero_Hangar")
);

CREATE TABLE IF NOT EXISTS public."Pilotos"
(
    "Numero_Licencia" integer NOT NULL,
    "Restricciones" character varying,
    "Salario" numeric,
    "Turno" character varying,
    PRIMARY KEY ("Numero_Licencia")
);

CREATE TABLE IF NOT EXISTS public."Pilotos_Aviones"
(
    "Pilotos_Numero_Licencia" integer NOT NULL,
    "Aviones_IdAviones" integer NOT NULL
);

ALTER TABLE IF EXISTS public."Aviones"
    ADD FOREIGN KEY ("IdHangar")
    REFERENCES public."Hangar" ("Numero_Hangar") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Pilotos_Aviones"
    ADD FOREIGN KEY ("Pilotos_Numero_Licencia")
    REFERENCES public."Pilotos" ("Numero_Licencia") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;


ALTER TABLE IF EXISTS public."Pilotos_Aviones"
    ADD FOREIGN KEY ("Aviones_IdAviones")
    REFERENCES public."Aviones" ("IdAviones") MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    NOT VALID;

END;